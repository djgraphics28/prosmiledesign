import{r as x,j as h}from"./app-B_AkH5O7.js";import{S as z,C,P as k,W as L,H as E,D,O as j,G as y,a as R,B as F,V as b}from"./dat.gui.module-DIgoky5o.js";function Y(){const p=x.useRef(null);return x.useEffect(()=>{const o=p.current;if(!o)return;const s=new z;s.background=new C(16645628);const t=new k(75,o.clientWidth/o.clientHeight,.1,1e3),a=new L({antialias:!0});a.setSize(o.clientWidth,o.clientHeight),a.setPixelRatio(window.devicePixelRatio),o.appendChild(a.domElement);const l=new E(16777215,4473924,1.5);l.position.set(0,1,0),s.add(l);const m=new D(16777215,2);m.position.set(5,5,5),s.add(m);const r=new j(t,a.domElement);r.enableDamping=!0;const i=new y,e={backgroundColor:"#cccccc",lightColor:"#ffffff",cameraX:0,cameraY:0,cameraZ:5};i.addColor(e,"backgroundColor").name("Background Color").onChange(n=>{s.background=new C(n)}),i.addColor(e,"lightColor").name("Light Color").onChange(n=>{l.color.set(n),m.color.set(n)}),i.add(e,"cameraX",-20,20).step(.1).onChange(()=>{t.position.set(e.cameraX,e.cameraY,e.cameraZ),t.lookAt(r.target)}),i.add(e,"cameraY",-20,20).step(.1).onChange(()=>{t.position.set(e.cameraX,e.cameraY,e.cameraZ),t.lookAt(r.target)}),i.add(e,"cameraZ",-20,50).step(.1).onChange(()=>{t.position.set(e.cameraX,e.cameraY,e.cameraZ),t.lookAt(r.target)}),new R().load("/models/human_teeth.glb",n=>{const d=n.scene;d.scale.set(.5,.5,.5),d.position.set(0,-1,0),s.add(d);const f=new F().setFromObject(d),g=f.getSize(new b),c=f.getCenter(new b),v=Math.max(g.x,g.y,g.z)/(2*Math.tan(Math.PI*t.fov/360))*1.3;t.position.set(c.x,c.y,c.z+v),e.cameraX=t.position.x,e.cameraY=t.position.y,e.cameraZ=t.position.z,t.lookAt(c),r.target.copy(c),r.update()},void 0,n=>{console.error("Error loading model:",n)});const u=()=>{o&&(t.aspect=o.clientWidth/o.clientHeight,t.updateProjectionMatrix(),a.setSize(o.clientWidth,o.clientHeight))};window.addEventListener("resize",u);const w=()=>{requestAnimationFrame(w),r.update(),a.render(s,t)};return w(),()=>{window.removeEventListener("resize",u),a.dispose(),i.destroy(),o.removeChild(a.domElement)}},[]),h.jsxs("div",{className:"w-screen h-screen bg-[#FDFDFC] dark:bg-[#0a0a0a]",children:[h.jsx("div",{ref:p,className:"w-full h-full"}),h.jsx("div",{className:"absolute top-4 left-4 bg-white/90 text-sm text-gray-700 px-3 py-2 rounded shadow-md z-50 pointer-events-none",children:"ðŸ’¡ Drag to rotate, scroll to zoom"})]})}export{Y as default};
